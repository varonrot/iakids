<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Sobre el ni√±o ‚Äì KidSa√≠</title>

<style>
/* === SAME BASE STYLES (UNCHANGED) === */
:root{
  --bg1:#f7f4ef;
  --bg2:#eaf4ff;
  --ink:#0b1220;
  --muted:#5b677a;
  --card:#ffffffcc;
  --card2:#ffffff;
  --line:rgba(16,24,40,.10);
  --shadow:0 18px 50px rgba(16,24,40,.12);
  --shadow2:0 10px 26px rgba(16,24,40,.10);
  --radius:18px;

  --accent1:#ff7a66;
  --accent2:#ffb089;
  --accent3:#ff5d4c;
  --focus:rgba(255,93,76,.25);
}

*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--ink);
  background:
    radial-gradient(800px 500px at 20% 10%, rgba(255,200,170,.35), transparent 60%),
    radial-gradient(900px 600px at 85% 10%, rgba(120,190,255,.30), transparent 62%),
    linear-gradient(90deg, var(--bg1), var(--bg2));
}

.wrap{
  min-height:100%;
  display:flex;
  justify-content:center;
  padding:42px 18px 56px;
}

.container{
  width:min(980px,100%);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:26px;
  text-align:center;
}

/* TOP BAR */
.top-bar{
  width:100%;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.back-link{
  text-decoration:none;
  color:var(--muted);
  font-size:14px;
  font-weight:600;
}
.progress{
  font-size:13px;
  color:var(--muted);
}
.progress-bar{
  width:140px;height:6px;
  background:#e5e7eb;border-radius:999px;overflow:hidden;margin-top:4px;
}
.progress-fill{
  width:75%; /* Paso 3 de 4 */
  height:100%;
  background:linear-gradient(135deg,var(--accent3),var(--accent2));
}

/* Mascot */
.mascot{
  width:84px;height:84px;border-radius:22px;
  display:grid;place-items:center;
  background:
    radial-gradient(26px 26px at 34% 30%, #fff, transparent 60%),
    linear-gradient(160deg, rgba(38,153,255,.26), rgba(255,125,95,.20));
  border:1px solid var(--line);
  box-shadow:var(--shadow2);
}
.mascot::before{content:"üòä";font-size:40px}

h1{margin:6px 0 0;font-size:34px}
.sub{color:var(--muted);font-size:15px}

/* ===== AGE GRID ===== */
.age-grid{
  display:grid;
  grid-template-columns:repeat(6,1fr);
  gap:14px;
  width:min(520px,100%);
}

.age{
  padding:16px 0;
  border-radius:14px;
  background:var(--card2);
  border:2px solid var(--line);
  font-weight:800;
  cursor:pointer;
  box-shadow:var(--shadow2);
}
.age.active{
  border-color:var(--accent3);
  background:rgba(255,93,76,.14);
  box-shadow:0 0 0 6px var(--focus);
}

/* ===== AVATARS ===== */
.avatars{
  display:grid;
  grid-template-columns:repeat(6,1fr);
  gap:18px;
  width:min(520px,100%);
}

.avatar{
  width:70px;height:70px;
  border-radius:50%;
  display:grid;
  place-items:center;
  background:#fff;
  font-size:30px;
  cursor:pointer;
  border:2px solid transparent;
  box-shadow:var(--shadow2);
}
.avatar.active{
  border-color:var(--accent3);
  box-shadow:0 0 0 6px var(--focus);
}

/* Button */
.btn{
  width:min(520px,100%);
  margin-top:22px;
  padding:16px;
  border-radius:999px;
  border:none;
  background:linear-gradient(135deg,var(--accent2),var(--accent1));
  font-weight:800;
  cursor:pointer;
}
    .avatar img{
  width:100%;
  height:100%;
  object-fit:cover;
  border-radius:50%;
  pointer-events:none;
}

</style>
</head>

<body>
<main class="wrap">
<section class="container">

  <!-- TOP BAR -->
  <div class="top-bar">
    <a class="back-link" href="/onboarding/preferencias">‚Üê Volver</a>
    <div class="progress">
      Paso 3 de 4
      <div class="progress-bar"><div class="progress-fill"></div></div>
    </div>
  </div>

  <div class="mascot"></div>

  <h1>Sobre el ni√±o</h1>
  <p class="sub">Cu√©ntanos un poco m√°s para adaptar la experiencia.</p>

  <h3>¬øCu√°ntos a√±os tiene?</h3>

  <div class="age-grid" id="ages">
    <div class="age">3</div><div class="age">4</div><div class="age">5</div>
    <div class="age">6</div><div class="age">7</div><div class="age">8</div>
    <div class="age">9</div><div class="age">10</div><div class="age">11</div>
    <div class="age">12</div><div class="age">13</div><div class="age">14</div>
    <div class="age">15</div>
  </div>

  <h3>Elige un avatar</h3>

<div class="avatars" id="avatars">

  <div class="avatar" data-key="cat">
    <img src="/assets/avatars/cat_blue.png" alt="Cat">
  </div>

  <div class="avatar" data-key="dog">
    <img src="/assets/avatars/dog_blue.png" alt="Dog">
  </div>

  <div class="avatar" data-key="owl">
    <img src="/assets/avatars/owl_blue.png" alt="Owl">
  </div>

  <div class="avatar" data-key="horse">
    <img src="/assets/avatars/horse_blue.png" alt="Horse">
  </div>

  <div class="avatar" data-key="eagle">
    <img src="/assets/avatars/eagle_blue.png" alt="Eagle">
  </div>

  <div class="avatar" data-key="panther">
    <img src="/assets/avatars/panther_blue.png" alt="Panther">
  </div>

</div>


  <button class="btn" id="nextBtn">Continuar</button>

</section>
</main>

<script>
/* === AGE === */
const ageEls = document.querySelectorAll(".age");
let selectedAge = sessionStorage.getItem("child_age");

if(selectedAge){
  ageEls.forEach(a=>{
    if(a.textContent === selectedAge) a.classList.add("active");
  });
}

ageEls.forEach(a=>{
  a.onclick = ()=>{
    ageEls.forEach(x=>x.classList.remove("active"));
    a.classList.add("active");
    selectedAge = a.textContent;
  };
});

/* === AVATAR === */
const avatarEls = document.querySelectorAll(".avatar");
let selectedAvatar = sessionStorage.getItem("child_avatar");

if(selectedAvatar){
  avatarEls.forEach(v=>{
    if(v.dataset.key === selectedAvatar){
      v.classList.add("active");
    }
  });
}

avatarEls.forEach(v=>{
  v.onclick = ()=>{
    avatarEls.forEach(x=>x.classList.remove("active"));
    v.classList.add("active");
    selectedAvatar = v.dataset.key;
  };
});


/* === NEXT === */
document.getElementById("nextBtn").onclick = ()=>{
  if(!selectedAge || !selectedAvatar) return;

  sessionStorage.setItem("child_age", selectedAge);
  sessionStorage.setItem("child_avatar", selectedAvatar);
  sessionStorage.setItem("onboarding_step","3");

  window.location.href = "/onboarding/intereses/";
};
</script>

</body>
</html>
